<div class="max-w-4xl mx-auto px-8 py-6 bg-white shadow-lg rounded-lg mt-3">
  <h1 class="text-3xl font-bold mb-2">
    {{ productId == 0 ? "Add New Product" : "Edit Product" }}
  </h1>
  <form (submit)="productHandler($event)" [formGroup]="productForm" class="space-y-6">
    <div class="flex flex-col">
      <label for="name" class="text-lg font-semibold mb-2">Product Name</label>
      <input
        type="text"
        formControlName="name"
        id="name"
        class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        placeholder="Enter Product Name"
      />
      @if(getName.touched || getName.dirty) {
        @if(getName.hasError('required')) {
          <div class="text-red-600 mt-1">
            Product Name is Required
          </div>
        }
        @if(getName.hasError('minlength')) {
          <div class="text-red-600 mt-1">
            Product Name length must be greater than 3
          </div>
        }
      }
    </div>
    <div class="flex flex-col">
      <label for="price" class="text-lg font-semibold mb-2">Price</label>
      <input
        type="number"
        formControlName="price"
        id="price"
        class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        placeholder="Enter Product Price"
      />
      @if(getPrice.touched || getPrice.dirty) {
        @if(getPrice.hasError('required')) {
          <div class="text-red-600 mt-1">
            Price is Required
          </div>
        }
      }
    </div>
    <div class="flex flex-col">
      <label for="quantity" class="text-lg font-semibold mb-2">Quantity</label>
      <input
        type="number"
        formControlName="quantity"
        id="quantity"
        class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        placeholder="Enter Product Quantity"
      />
      @if(getQuantity.touched || getQuantity.dirty) {
        @if(getQuantity.hasError('required')) {
          <div class="text-red-600 mt-1">
            Quantity is Required
          </div>
        }
      }
    </div>
    <div class="flex flex-col">
      <label for="rating" class="text-lg font-semibold mb-2">Rating (1-5)</label>
      <input
        type="number"
        formControlName="rating"
        id="rating"
        min="1"
        max="5"
        class="border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        placeholder="Enter Product Rating"
      />
      @if(getRating.touched || getRating.dirty) {
        @if(getRating.hasError('required')) {
          <div class="text-red-600 mt-1">
            Rating is Required
          </div>
        }
        @if(getRating.hasError('min') || getRating.hasError('max')) {
          <div class="text-red-600 mt-1">
            Rating must be between 1 and 5
          </div>
        }
      }
    </div>
    
    <div class="bg-gray-100 p-2 rounded-lg border border-gray-300 mt-4">
      <p class="text-gray-800">
        <strong>Name:</strong> {{ productForm.get('name')?.value || 'Empty' }} &nbsp;&nbsp;&nbsp;
        <strong>Price:</strong> {{ productForm.get('price')?.value || 'Empty' }} &nbsp;&nbsp;&nbsp;
        <strong>Quantity:</strong> {{ productForm.get('quantity')?.value || 'Empty' }}
      </p>
    </div>
    <button
      type="submit"
      class="w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
    >
      {{ productId == 0 ? "Add New Product" : "Edit Product" }}
    </button>
  </form>
</div>
